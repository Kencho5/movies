<div
  class="hidden h-[70px] border-t border-primary-700/30 bg-bg-dark p-2 text-xs text-white/90 xl:block"
>
  <div class="flex w-full flex-col">
    <!-- Hour labels -->
    <div class="relative h-4 w-full">
      @for (x of [].constructor(24); track $index) {
        <span
          class="absolute text-[10px] font-normal text-neutral-400"
          [ngStyle]="
            $index === 0
              ? { left: '0%', transform: 'none' }
              : $index === 23
                ? { left: '100%', transform: 'translateX(-100%)' }
                : {
                    left: ($index / 23) * 100 + '%',
                    transform: 'translateX(-50%)',
                  }
          "
        >
          {{ $index.toString().padStart(2, "0") }}:00
        </span>
      }
    </div>
    <!-- Time markers -->
    <svg class="h-4 w-full">
      @for (x of [].constructor(24); track $index) {
        <line
          [attr.x1]="($index / 23) * 100 + '%'"
          [attr.x2]="($index / 23) * 100 + '%'"
          y1="100%"
          y2="0%"
          stroke="currentColor"
          class="text-primary-600/70"
          stroke-width="1"
        />

        <!-- 15 minute marker -->
        <line
          [attr.x1]="(($index + 0.25) / 23) * 100 + '%'"
          [attr.x2]="(($index + 0.25) / 23) * 100 + '%'"
          y1="100%"
          y2="75%"
          stroke="currentColor"
          class="text-neutral-500/60"
          stroke-width="0.8"
        />

        <!-- 30 minute marker -->
        <line
          [attr.x1]="(($index + 0.5) / 23) * 100 + '%'"
          [attr.x2]="(($index + 0.5) / 23) * 100 + '%'"
          y1="100%"
          y2="50%"
          stroke="currentColor"
          class="text-neutral-500/60"
          stroke-width="0.8"
        />

        <!-- 45 minute marker -->
        <line
          [attr.x1]="(($index + 0.75) / 23) * 100 + '%'"
          [attr.x2]="(($index + 0.75) / 23) * 100 + '%'"
          y1="100%"
          y2="75%"
          stroke="currentColor"
          class="text-neutral-500/60"
          stroke-width="0.8"
        />
      }
    </svg>
  </div>

  <!-- Progress bar and tooltip -->
  <div
    class="relative cursor-pointer pb-3"
    (mousemove)="hover($event)"
    (mouseleave)="tooltipShown.set(false)"
  >
    <!-- Progress track -->
    <div class="h-1.5 w-full rounded-full bg-neutral-800">
      <div
        class="h-full w-[15%] rounded-full bg-gradient-to-r from-primary-700 to-primary-500"
      ></div>
    </div>
    <!-- Tooltip -->
    @if (tooltipShown()) {
      <div
        [ngStyle]="{ left: tooltipX + 'px' }"
        class="pointer-events-none absolute -top-10 -translate-x-1/2 transform rounded-md border border-primary-800/50 bg-bg-card px-2 py-1 text-xs font-medium text-white/90 shadow-lg"
      >
        {{ tooltipText }}
        <div
          class="absolute -bottom-1 left-1/2 h-2 w-2 -translate-x-1/2 rotate-45 transform border-b border-r border-primary-800/50 bg-bg-card"
        ></div>
      </div>
    }
  </div>
</div>
